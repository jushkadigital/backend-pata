quarkus:
  http:
    host: 0.0.0.0
    cors:
     enabled: true
    ssl:
      native: true
    http:
      cors:
        origins: /.*/
    vertx:
      max-event-loop-execute-time: 10s
      warning-exception-time: 10s

  banner:
    # remove quarkus logo at startup logs
    enabled: false

  log:
    level: INFO

  # Default OIDC config - CustomOidcResolver provides dynamic tenant config
  oidc:
    # Disable default tenant since we use dynamic resolution
    tenant-enabled: false
    # Defer discovery to allow Keycloak to start first
    discovery-enabled: false

"%prod":
  quarkus:
    ssl:
      native: true
    http:
      cors:
        origins: /.*/
    vertx:
      max-event-loop-execute-time: 10s
      warning-exception-time: 10s
    tls:
      kc-mtls:
        key-store:
          p12:
            path: certs/client-keystore.p12
            password: secret
        trust-store:
          p12:
            path: certs/client-truststore.p12
            password: secret

  vault:
    url: http://localhost:8200

    # vault authentication
    authentication:
      userpass:
        username: bob
        password: sinclair

    # path within the kv secret engine where is located the vault-quickstart secret configuration
    secret-config-kv-path: secret/myapp/config
  
"%dev":
  quarkus:
    http:
      cors:
        origins: /.*/
    vault:
      devservices:
        init-commands: 'kv put secret/config password="p@$$w0rd"'
        #port: 54995

    log:
      category:
        "com.microservice.quarkus":
          level: DEBUG
        "io.quarkus.vault":
          level: DEBUG
      file:
        enable: true
        path: target/quarkus.log
        level: ALL   
